(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(10),r=n.n(c),i=(n(18),n(2)),s=n(11),d=n(1),l=n(8),u={offer:{startCard:{character:"\u0412\u0430\u0441\u044f",description:"\u042f \u0443\u0445\u043e\u0436\u0443, \u043c\u0435\u043d\u044f \u043f\u043e\u0437\u0432\u0430\u043b\u0438 \u0432 Google \u043d\u0430 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0443 \u04452",yes:{description:"\u041d\u0443 \u0438 \u043a\u0430\u0442\u0438\u0441\u044c!",scores:{team:-20}},no:{description:"\u041f\u043e\u0434\u043d\u044f\u0442\u044c \u0437\u043f \u0434\u043e \u04452",scores:{money:-20},nextCard:{skipSteps:3,card:{character:"\u041f\u0435\u0442\u044f",description:"\u041f\u043e\u0447\u0435\u043c\u0443 \u0412\u0430\u0441\u0435 \u043f\u043e\u0434\u043d\u044f\u043b\u0438 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0443, \u0430 \u043c\u043d\u0435 \u043d\u0435\u0442? \u041e\u043d \u0434\u0435\u043b\u0430\u0435\u0442 \u0432 2 \u0440\u0430\u0437\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0435\u043d\u044f",yes:{description:"\u041f\u043e\u0434\u043d\u044f\u0442\u044c \u0437\u043f \u041f\u0435\u0442\u0435",scores:{money:-20}},no:{description:"\u0423 \u0412\u0430\u0441\u0438 \u0441\u043b\u043e\u0436\u043d\u0430\u044f \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f",scores:{team:-10}}}}}}},ads:{startCard:{character:"\u041b\u0435\u043d\u0430",description:"\u041f\u043e\u0432\u0435\u0441\u0438\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0431\u0430\u043d\u043d\u0435\u0440 \u043d\u0430 \u0432\u0445\u043e\u0434\u0435?",yes:{description:"\u0414\u0435\u043d\u044c\u0433\u0438 \u2014 \u043d\u0443\u0436\u043d\u044b",scores:{audience:-10,money:20}},no:{description:"\u041f\u043b\u043e\u0445\u043e \u043e\u0442\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u0438",scores:{audience:5,money:-10}}}}},m=function(e){var t=Object.keys(u),n=function(e){return[e=16807*e%2147483647,(e-1)/2147483646]}(e),a=Object(i.a)(n,2),o=a[0],c=a[1],r=t[Math.floor(c*t.length)];return[o,{suite:r,card:u[r].startCard}]},v=function(e,t){switch(t.type){case"yes":return f(e,t);case"no":return h(e,t);case"showAnswer":return p(e,t);default:return e}},p=function(e,t){var n=t.answer;return Object(d.a)({},e,{answer:n})},w=function(e,t){var n=Object(s.a)(e.deck),a=n[0].suite,o=n.slice(1);t.nextCard&&(o=E(o,t.nextCard,a));var c=e.seed;if(0===o.length){var r=m(c);c=r[0],o.unshift(r[1])}var i=y(e.scores,t.scores);return Object(d.a)({},e,{seed:c,scores:i,deck:o,answer:void 0,lose:_(i)})},f=function(e,t){return w(e,e.deck[0].card.yes)},h=function(e,t){return w(e,e.deck[0].card.no)},y=function(e,t){var n=function(e){return t=e,n=0,a=100,t=Math.max(t,n),t=Math.min(t,a);var t,n,a};return{audience:t.audience?n(e.audience+t.audience):e.audience,money:t.money?n(e.money+t.money):e.money,team:t.team?n(e.team+t.team):e.team,code:t.code?n(e.code+t.code):e.code}},E=function(e,t,n){return a=e,o=t.skipSteps,c={suite:n,card:t.card},[].concat(Object(l.a)(a.slice(0,o)),[c],Object(l.a)(a.slice(o)));var a,o,c},_=function(e){return 0===e.audience||100===e.audience||0===e.code||100===e.code||0===e.money||100===e.money||0===e.team||100===e.team},b=n(3),j=n.n(b),g=function(e){var t=e.type,n=e.value,a=e.willChange;return o.a.createElement("div",{className:j.a.container},o.a.createElement("div",{className:j.a.point},o.a.createElement("div",{className:j.a.pointInner,style:{visibility:a?"visible":"hidden"}})),o.a.createElement("div",{className:j.a.volume},o.a.createElement("div",{className:j.a.innerVolume,style:{height:"".concat(n,"%")}})),o.a.createElement("div",{className:j.a.icon},t))},O=n(4),x=n.n(O),k=function(e){var t=e.card,n=t.character,c=t.description,r=t.yes,s=t.no,l=e.dispatch,u=Object(a.useState)({down:!1,start:[0,0],move:[0,0]}),m=Object(i.a)(u,2),v=m[0],p=m[1],w=function(){v.down&&(v.move[0]>50?l({type:"yes"}):v.move[0]<-50&&l({type:"no"}),p(Object(d.a)({},v,{down:!1,start:[0,0],move:[0,0]})))};Object(a.useEffect)(function(){return window.addEventListener("mouseup",w),window.addEventListener("touchend",w),function(){window.removeEventListener("mouseup",w),window.removeEventListener("touchend",w)}});var f,h=500,y=v.move[0],E=Math.asin(y/h),_=Math.sqrt(h*h-y*y);return v.move[0]>50?f=o.a.createElement("div",{className:x.a.choice},r.description):v.move[0]<-50&&(f=o.a.createElement("div",{className:x.a.choice},s.description)),o.a.createElement("div",{className:x.a.container},o.a.createElement("div",{className:x.a.movePart,onMouseDown:function(e){e.preventDefault(),p(Object(d.a)({},v,{down:!0,start:[e.clientX,e.clientY]}))},onMouseMove:function(e){e.preventDefault(),v.down&&(v.move[0]>50?l({type:"showAnswer",answer:"yes"}):v.move[0]<-50?l({type:"showAnswer",answer:"no"}):l({type:"showAnswer",answer:void 0}),p(Object(d.a)({},v,{move:[e.clientX-v.start[0],e.clientY-v.start[1]]})))},onTouchStart:function(e){e.preventDefault();var t=e.touches[0];p(Object(d.a)({},v,{down:!0,start:[t.clientX,t.clientY]}))},onTouchMove:function(e){if(e.preventDefault(),v.down){v.move[0]>50?l({type:"showAnswer",answer:"yes"}):v.move[0]<-50?l({type:"showAnswer",answer:"no"}):l({type:"showAnswer",answer:void 0});var t=e.touches[0];p(Object(d.a)({},v,{move:[t.clientX-v.start[0],t.clientY-v.start[1]]}))}},style:{transform:"translate(".concat(v.move[0],"px, ").concat(h-_,"px) rotate(").concat(E,"rad)")}},o.a.createElement("div",{className:x.a.description},c),f,n&&o.a.createElement("div",{className:x.a.character},n)))},C=function(e){var t=e.scores,n=e.effect;return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"30px"}},o.a.createElement("div",null,o.a.createElement(g,{type:"audience",value:t.audience,willChange:n&&Boolean(n.audience)})),o.a.createElement("div",null,o.a.createElement(g,{type:"code",value:t.code,willChange:n&&Boolean(n.code)})),o.a.createElement("div",null,o.a.createElement(g,{type:"team",value:t.team,willChange:n&&Boolean(n.team)})),o.a.createElement("div",null,o.a.createElement(g,{type:"money",value:t.money,willChange:n&&Boolean(n.money)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(function(){var e=Object(a.useReducer)(v,function(e){var t=m(e),n=Object(i.a)(t,2);return{seed:n[0],scores:{audience:50,money:50,code:50,team:50},deck:[n[1]],lose:!1}}(1)),t=Object(i.a)(e,2),n=t[0],c=t[1],r=n.deck[0].card;return o.a.createElement("div",null,o.a.createElement(C,{scores:n.scores,effect:n.answer&&r[n.answer].scores}),o.a.createElement(k,{card:r,dispatch:c}),n.lose&&o.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",lineHeight:"100vh",textAlign:"center",fontSize:"70px",fontWeight:700,color:"#ff0000",background:"radial-gradient(#ff00004f, #00000000)",userSelect:"none"}},"WASTED"),o.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,fontStyle:"italic",fontSize:"10px"}},"\u0418\u0433\u0440\u0430 \u043f\u0440\u043e \u0441\u043b\u043e\u0436\u043d\u0443\u044e \u0436\u0438\u0437\u043d\u044c \u0442\u0438\u043c\u043b\u0438\u0434\u0430. \u0412\u0441\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b."))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(e,t,n){e.exports={container:"score_container__jQKy_",point:"score_point__1Rs-2",pointInner:"score_pointInner__2vtxz",volume:"score_volume__3dj9j",innerVolume:"score_innerVolume__IbpTs",icon:"score_icon__3S58M"}},4:function(e,t,n){e.exports={container:"card_container__1Hmar",movePart:"card_movePart__1d6FU",description:"card_description__3Lddi",character:"card_character__1GHwD",choice:"card_choice__SsE7H"}}},[[12,1,2]]]);
//# sourceMappingURL=main.d546be20.chunk.js.map